(self.webpackChunkstarboard_notebook=self.webpackChunkstarboard_notebook||[]).push([["monaco"],{"./src/components/editor/monaco.ts":(e,o,t)=>{"use strict";t.r(o),t.d(o,{createMonacoEditor:()=>a});var n=t("include-loader!./node_modules/monaco-editor/esm/vs/editor/editor.api.js"),r=t("./node_modules/@github/mini-throttle/dist/index.js");function a(e,o,t,a){const l=n.editor.create(e,{value:o.textContent,language:t.language,readOnly:o.metadata.properties.locked,minimap:{enabled:!1},fontSize:14,theme:"starboard-theme",scrollbar:{useShadows:!1,vertical:"auto",horizontal:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10,alwaysConsumeMouseWheel:!1},overviewRulerBorder:!1,lineNumbersMinChars:3,scrollBeyondLastLine:!1,wordWrap:t.wordWrap}),d=o.metadata.properties.locked;a.controls.subscribeToCellChanges(o.id,(()=>{d!==o.metadata.properties.locked&&function(e,o){e.updateOptions({readOnly:!!o})}(l,o.metadata.properties.locked)}));const i=(0,r.D)((()=>l.layout()),100);window.addEventListener("resize",i),function(e){e.onDidChangeModelDecorations((()=>{requestAnimationFrame(r)}));let o=0,t=0;const n=document.querySelector(".cell-controls-above"),r=()=>{const r=e.getDomNode();if(!r)return;const a=e.getContentHeight(),l=n.offsetWidth-2;o===a&&t===l||(o=a,t=l,r.style.width=l+"px",r.style.height=a+"px",e.layout({width:l,height:a}))};requestAnimationFrame((()=>r()))}(l),function(e,o,t){e.addAction({id:"run-cell",label:"Run Cell",keybindings:[n.KeyMod.CtrlCmd|n.KeyCode.Enter],contextMenuGroupId:"starboard",contextMenuOrder:0,run:e=>{t.controls.runCell({id:o})}}),e.addAction({id:"run-cell-and-next",label:"Run Cell and Select Below",keybindings:[n.KeyMod.Shift|n.KeyCode.Enter],contextMenuGroupId:"starboard",contextMenuOrder:1,run:e=>{t.controls.runCell({id:o})&&t.controls.focusCell({id:o,focusTarget:"next"})}}),e.addAction({id:"run-cell-and-insert-cell",label:"Run Cell and Insert Cell",keybindings:[n.KeyMod.Alt|n.KeyCode.Enter],contextMenuGroupId:"starboard",contextMenuOrder:2,run:e=>{t.controls.runCell({id:o})&&t.controls.insertCell({adjacentCellId:o,position:"after"})&&t.controls.focusCell({id:o,focusTarget:"next"})}}),e.onKeyDown((r=>{var a,l,d;if(r.keyCode===n.KeyCode.DownArrow){const n=null===(a=e.getModel())||void 0===a?void 0:a.getLineCount();void 0!==n&&(null===(l=e.getPosition())||void 0===l?void 0:l.lineNumber)===n&&t.controls.focusCell({id:o,focusTarget:"next"})}else r.keyCode===n.KeyCode.UpArrow&&1===(null===(d=e.getPosition())||void 0===d?void 0:d.lineNumber)&&t.controls.focusCell({id:o,focusTarget:"previous"})}))}(l,o.id,a);const s=l.getModel();return s?s.onDidChangeContent((e=>{o.textContent=s.getValue()})):console.error("Monaco editor model was not truthy, change detection will not work"),l}n.editor.defineTheme("starboard-theme",{base:"vs",inherit:!0,rules:[],colors:{"editor.foreground":"#000000","editor.background":"#fbfbfb","editorCursor.foreground":"#00d1b2ba","editor.lineHighlightBackground":"#33333308","editorLineNumber.foreground":"#ccc","editor.selectionBackground":"#00000010","editor.inactiveSelectionBackground":"#88000008","scrollbarSlider.background":"#ff0000","scrollbarSlider.hoverBackground":"#00d1b280","scrollbarSlider.activeBackground":"#00d1b2f0"}}),n.languages.typescript.javascriptDefaults.addExtraLib("\n        /**\n         * Interprets a template literal as an HTML template that can efficiently\n         * render to and update a container.\n         */\n        declare const html: (strings: TemplateStringsArray, ...values: unknown[]) => any ;\n        /**\n        * Interprets a template literal as an SVG template that can efficiently\n        * render to and update a container.\n        */\n        declare const svg: (strings: TemplateStringsArray, ...values: unknown[]) => any;\n        declare const lit: any;\n        declare const runtime: any;\n","global.d.ts")}}]);